{
  "openapi":"3.0.0",
  "info":{
     "title":"API Pizza Viasoft",
     "description":"API para gerenciar pedidos de pizza Viasoft",
     "version":"1.0.0"
  },
  "paths":{
     "/health":{
        "get":{
           "summary":"Check if the service is running",
           "operationId":"healthCheck",
           "tags":[
              "Health"
           ],
           "responses":{
              "200":{
                 "description":"Service is running",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "status":{
                                "type":"integer",
                                "example":200
                             },
                             "message":{
                                "type":"string",
                                "example":"Service is running"
                             }
                          }
                       }
                    }
                 }
              }
           }
        }
     },
     "/order":{
        "post":{
           "summary":"Create a new pizza order",
           "operationId":"createOrder",
           "tags":[
              "Order"
           ],
           "requestBody":{
              "description":"Order details to create a pizza order",
              "required":true,
              "content":{
                 "application/json":{
                    "schema":{
                       "type":"object",
                       "properties":{
                          "pizzas":{
                             "type":"array",
                             "items":{
                                "type":"object",
                                "properties":{
                                   "size":{
                                      "type":"string",
                                      "enum":[
                                         "pequena",
                                         "m√©dia",
                                         "grande"
                                      ]
                                   },
                                   "flavor":{
                                      "type":"string",
                                      "enum":[
                                         "calabresa",
                                         "marguerita",
                                         "portuguesa"
                                      ]
                                   },
                                   "additional":{
                                      "type":"array",
                                      "items":{
                                         "type":"string",
                                         "enum":[
                                            "extra bacon",
                                            "sem cebola",
                                            "borda recheada"
                                         ]
                                      },
                                      "nullable":true
                                   }
                                },
                                "required":[
                                   "size",
                                   "flavor"
                                ]
                             }
                          }
                       },
                       "required":[
                          "pizzas"
                       ]
                    },
                    "example":{
                       "pizzas":[
                          {
                             "size":"grande",
                             "flavor":"calabresa",
                             "additional":[
                                "extra bacon",
                                "sem cebola"
                             ]
                          }
                       ]
                    }
                 }
              }
           },
           "responses":{
              "201":{
                 "description":"Order created successfully",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "status":{
                                "type":"integer",
                                "example":201
                             },
                             "data":{
                                "type":"object",
                                "properties":{
                                   "orderId":{
                                      "type":"string",
                                      "example":"223d9d63-cda9-49b9-b15b-34d68d82d05c"
                                   },
                                   "totalValue":{
                                      "type":"number",
                                      "example":43
                                   },
                                   "timePreparation":{
                                      "type":"integer",
                                      "example":25
                                   },
                                   "createdAt":{
                                      "type":"string",
                                      "format":"date-time",
                                      "example":"2024-10-21T02:26:31.424Z"
                                   },
                                   "pizzas":{
                                      "type":"array",
                                      "items":{
                                         "type":"object",
                                         "properties":{
                                            "flavor":{
                                               "type":"string",
                                               "example":"calabresa"
                                            },
                                            "size":{
                                               "type":"string",
                                               "example":"grande"
                                            },
                                            "additionals":{
                                               "type":"array",
                                               "items":{
                                                  "type":"object",
                                                  "properties":{
                                                     "name":{
                                                        "type":"string",
                                                        "example":"extra bacon"
                                                     },
                                                     "price":{
                                                        "type":"number",
                                                        "example":3
                                                     }
                                                  }
                                               }
                                            },
                                            "price":{
                                               "type":"number",
                                               "example":40
                                            },
                                            "totalvalue":{
                                               "type":"number",
                                               "example":43
                                            }
                                         },
                                         "required":[
                                            "flavor",
                                            "size",
                                            "additionals",
                                            "price",
                                            "totalvalue"
                                         ]
                                      }
                                   }
                                },
                                "required":[
                                   "orderId",
                                   "totalValue",
                                   "timePreparation",
                                   "createdAt",
                                   "pizzas"
                                ]
                             }
                          }
                       }
                    }
                 }
              },
              "400":{
                 "description":"Bad request, validation error or invalid input"
              },
              "409":{
                 "description":"Conflict, resource not found"
              }
           }
        }
     },
     "/sizes":{
        "get":{
           "summary":"Fetch available pizza sizes",
           "operationId":"fetchSizes",
           "tags":[
              "Sizes"
           ],
           "responses":{
              "200":{
                 "description":"List of available pizza sizes",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "status":{
                                "type":"integer",
                                "example":200
                             },
                             "data":{
                                "type":"object",
                                "properties":{
                                   "sizes":{
                                      "type":"array",
                                      "items":{
                                         "type":"object",
                                         "properties":{
                                            "id":{
                                               "type":"string",
                                               "example":"bed4f1a0-c3f5-43b8-b3bb-a419d0bbf3b6"
                                            },
                                            "name":{
                                               "type":"string",
                                               "example":"Grande"
                                            },
                                            "price":{
                                               "type":"number",
                                               "example":45.99
                                            },
                                            "time":{
                                               "type":"number",
                                               "example":30
                                            },
                                            "createdAt":{
                                               "type":"string",
                                               "format":"date-time",
                                               "example":"2024-10-18T14:48:00.000Z"
                                            }
                                         },
                                         "required":[
                                            "id",
                                            "name",
                                            "price",
                                            "time",
                                            "createdAt"
                                         ]
                                      }
                                   }
                                }
                             }
                          }
                       }
                    }
                 }
              },
              "400":{
                 "description":"Bad request"
              }
           }
        }
     },
     "/flavors":{
        "get":{
           "summary":"Fetch available pizza flavors",
           "operationId":"fetchFlavors",
           "tags":[
              "Flavors"
           ],
           "responses":{
              "200":{
                 "description":"List of available pizza flavors",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "status":{
                                "type":"integer",
                                "example":200
                             },
                             "data":{
                                "type":"object",
                                "properties":{
                                   "flavors":{
                                      "type":"array",
                                      "items":{
                                         "type":"object",
                                         "properties":{
                                            "id":{
                                               "type":"string",
                                               "example":"bed4f1a0-c3f5-43b8-b3bb-a419d0bbf3b6"
                                            },
                                            "name":{
                                               "type":"string",
                                               "example":"Calabresa"
                                            },
                                            "extraTime":{
                                               "type":"number",
                                               "example":5
                                            },
                                            "createdAt":{
                                               "type":"string",
                                               "format":"date-time",
                                               "example":"2024-10-18T14:48:00.000Z"
                                            }
                                         },
                                         "required":[
                                            "id",
                                            "name",
                                            "extraTime",
                                            "createdAt"
                                         ]
                                      }
                                   }
                                }
                             }
                          }
                       }
                    }
                 }
              },
              "400":{
                 "description":"Bad request"
              }
           }
        }
     },
     "/customizations":{
        "get":{
           "summary":"Fetch available pizza customizations",
           "operationId":"fetchCustomizations",
           "tags":[
              "Customizations"
           ],
           "responses":{
              "200":{
                 "description":"List of available pizza customizations",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "status":{
                                "type":"integer",
                                "example":200
                             },
                             "data":{
                                "type":"object",
                                "properties":{
                                   "customizations":{
                                      "type":"array",
                                      "items":{
                                         "type":"object",
                                         "properties":{
                                            "id":{
                                               "type":"string",
                                               "example":"bed4f1a0-c3f5-43b8-b3bb-a419d0bbf3b6"
                                            },
                                            "name":{
                                               "type":"string",
                                               "example":"Extra Bacon"
                                            },
                                            "extraPrice":{
                                               "type":"number",
                                               "example":5.0
                                            },
                                            "extraTime":{
                                               "type":"number",
                                               "example":10
                                            },
                                            "createdAt":{
                                               "type":"string",
                                               "format":"date-time",
                                               "example":"2024-10-18T14:48:00.000Z"
                                            }
                                         },
                                         "required":[
                                            "id",
                                            "name",
                                            "extraPrice",
                                            "extraTime",
                                            "createdAt"
                                         ]
                                      }
                                   }
                                }
                             }
                          }
                       }
                    }
                 }
              },
              "400":{
                 "description":"Bad request"
              }
           }
        }
     }
  }
}